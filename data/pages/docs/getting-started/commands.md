###########################################
# HEAD
###########################################

config: 
  layout: page-toc
  file: /docs/getting-started/commands.html

page: 
  jumbotron: Commands
  toc:
    Getting Started: 
      Installation: /docs/getting-started/installation.html
      Commands: /docs/getting-started/commands.html
      Directory Structure: /docs/getting-started/directory-structure.html
    Core:
      Services: /docs/core/services.html
      Plugins: /docs/core/plugins.html
      Libs: /docs/core/libs.html
    How To:
      New Pages: /docs/how-to/new-pages.html
      Bespoke Design: /docs/how-to/bespoke-design.html
      Display Image: /docs/how-to/display-image.html
      Reusable HTML: /docs/how-to/reusable-html.html
    Advanced:
      Creating A Theme: /docs/advanced/creating-a-theme.html
      Creating A Service: /docs/advanced/creating-a-service.html
      Creating A Plugin: /docs/advanced/creating-a-plugin.html
  
###########################################
# BODY
###########################################
=====

# Running Commands Inside Docker

Since everything is dockerised. All commands should be run through `docker-compose`. Remember to run these within the projects working directory.

To run a command;

`docker-compose run --service-ports sg {command-goes-here}`

# Common Commands

- `docker-compose run sg npm install --save {package-name}` - Install a new package
- `docker-compose run sg npm install --save @types/{package-name}` - Save new typescript types
- `docker-compose run --service-ports sg npm start` - Complete a build from start to finish & make available at http://127.0.0.1:8080/

# NPM Commands

When you wish to run StaticGenie NPM commands. Use the following command: 

`docker-compose run --service-ports sg npm run {commands-below}`. 

## Available NPM Commands

Common / Dev

- `start` - runs all the build scripts in order and finishes by hosting them via a build in web server (start here)
- `server` - Creates a server that serves your ./www directory (generated by StaticGenie) - For dev/test purposes only
- `test` - @TODO - Compile and tests the javascript (although this isn't working yet)

Runners

- `build:fresh` - Removes files generated from the previous run. Ensures everything is clean and no previous artifacts left behind
- `build:typescript` - Converts the typescript to javascript
- `build:pages` - Builds your web pages
- `build:assets` - Copies over any supporting assets .css, .js, .jpg etc from `/theme/assets` to the `/www/assets` directory
- `build:clean` - Cleans up any temporary artifacts such as compiled typescript ready for the next build
- `build:optimise` - @TODO - Will perform optimisations like CSS/JS minification, etc

## Locating NPM Commands

In the event the docs aren't up to date and/or a command isn't doing what you want it to. You can check the commands by opening `/package.json` to see/modify the StaticGenie commands.

# Troubleshooting

> Trying to access the built in server via http://127.0.0.1:8080/ times out.

You have likely missed the `--service-ports` part of the `docker-compose run` command. Without it the adhock command to the docker container won't open/map ports. The full command should look like: `docker-compose run --service-ports sg npm run {npm-command-here}`
